import{a as j,b as Y}from"./chunk-LIH4WI6F.js";import{a as J,b as H}from"./chunk-LXPIABHE.js";import{f as w,g as L}from"./chunk-INTSD7WA.js";import{a as U,b as G}from"./chunk-QOU7OCHW.js";import"./chunk-RKKVVHRT.js";import{a as x,b as Q,c as T,e as O,f as N,h as I}from"./chunk-PIOE26UH.js";import{a as D,f as z,g as V}from"./chunk-3CUTFLP2.js";import"./chunk-SLMWOJUF.js";import{c as P,g as k,j as B,l as W,o as F,p as R,r as v}from"./chunk-RBQEKCHA.js";import"./chunk-IX6G3U3V.js";import{a as b,d as E}from"./chunk-K6MC7JDA.js";import"./chunk-MIEZW6RE.js";import"./chunk-7RUZDB74.js";import{$ as q,U as C,_ as A}from"./chunk-JHVXOMI4.js";import{$b as s,Bb as t,Cb as e,Kb as u,Tc as y,Vb as i,Xa as p,Ya as g,_b as c,ac as f,cc as _,ka as h,rb as M}from"./chunk-5DLN4SFQ.js";var _t=(()=>{let d=class d{constructor(o){this.snackBar=o,this.inputSQL="",this.outputSQL="",this.indentSize=2,this.indentType="spaces"}beautifySQL(){if(!this.inputSQL.trim()){this.showNotification("Please enter SQL",!0);return}try{this.outputSQL=this.formatSQL(this.inputSQL),this.showNotification("SQL formatted successfully")}catch{this.showNotification("Error formatting SQL",!0)}}minifySQL(){if(!this.inputSQL.trim()){this.showNotification("Please enter SQL",!0);return}try{let o=this.inputSQL.replace(/--.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"");o=o.replace(/\s+/g," ").trim(),this.outputSQL=o,this.showNotification("SQL minified successfully")}catch{this.showNotification("Error minifying SQL",!0)}}formatSQL(o){let m=this.indentType==="spaces"?" ".repeat(this.indentSize):"	",n="",r=0,a=["SELECT","FROM","WHERE","AND","OR","JOIN","INNER JOIN","LEFT JOIN","RIGHT JOIN","FULL JOIN","ON","GROUP BY","HAVING","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","UPDATE","SET","DELETE","CREATE","ALTER","DROP"];return o=o.replace(/\s+/g," ").trim(),a.forEach(l=>{let K=new RegExp(`\\b${l}\\b`,"gi");o=o.replace(K,`
${l}`)}),o.split(`
`).forEach(l=>{l=l.trim(),l&&(l.startsWith(")")&&(r=Math.max(0,r-1)),n+=m.repeat(r)+l+`
`,l.endsWith("(")&&r++)}),n.trim()}copyToClipboard(){if(!this.outputSQL){this.showNotification("No output to copy",!0);return}navigator.clipboard.writeText(this.outputSQL).then(()=>{this.showNotification("Copied to clipboard!")},()=>{this.showNotification("Failed to copy",!0)})}swapInputOutput(){[this.inputSQL,this.outputSQL]=[this.outputSQL,this.inputSQL]}reset(){this.inputSQL="",this.outputSQL=""}showNotification(o,m=!1){this.snackBar.open(o,"Close",{duration:3e3,panelClass:m?"error-snackbar":"success-snackbar"})}};d.\u0275fac=function(m){return new(m||d)(g(j))},d.\u0275cmp=h({type:d,selectors:[["app-sql-beautifier"]],standalone:!0,features:[_],decls:62,vars:6,consts:[[1,"tool-container"],[1,"gradient-toolbar"],[1,"content"],[1,"settings-group"],["appearance","outline",1,"half-width"],["matInput","","type","number",3,"ngModelChange","ngModel","min","max"],[3,"ngModelChange","ngModel"],["value","spaces"],["value","tabs"],["appearance","outline",1,"full-width"],["matInput","","rows","8","placeholder","Enter your SQL query...",3,"ngModelChange","ngModel"],[1,"button-group"],["mat-raised-button","","color","primary",1,"full-width-button",3,"click"],["mat-raised-button","","color","warn",1,"full-width-button",3,"click"],["mat-raised-button","",1,"full-width-button",3,"click"],["matInput","","rows","8","readonly","","placeholder","Output will appear here...",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary",3,"click"]],template:function(m,n){m&1&&(t(0,"div",0)(1,"mat-toolbar",1),i(2,"SQL Beautifier"),e(),t(3,"div",2)(4,"mat-card")(5,"mat-card-header")(6,"mat-card-title"),i(7,"Settings"),e()(),t(8,"mat-card-content")(9,"div",3)(10,"mat-form-field",4)(11,"mat-label"),i(12,"Indent Size"),e(),t(13,"input",5),f("ngModelChange",function(a){return s(n.indentSize,a)||(n.indentSize=a),a}),e()(),t(14,"mat-form-field",4)(15,"mat-label"),i(16,"Indent Type"),e(),t(17,"mat-select",6),f("ngModelChange",function(a){return s(n.indentType,a)||(n.indentType=a),a}),t(18,"mat-option",7),i(19,"Spaces"),e(),t(20,"mat-option",8),i(21,"Tabs"),e()()()()()(),t(22,"mat-card")(23,"mat-card-header")(24,"mat-card-title"),i(25,"Input"),e()(),t(26,"mat-card-content")(27,"mat-form-field",9)(28,"mat-label"),i(29,"Paste SQL here"),e(),t(30,"textarea",10),f("ngModelChange",function(a){return s(n.inputSQL,a)||(n.inputSQL=a),a}),e()()()(),t(31,"div",11)(32,"button",12),u("click",function(){return n.beautifySQL()}),t(33,"mat-icon"),i(34,"format_align_left"),e(),i(35," Beautify "),e(),t(36,"button",13),u("click",function(){return n.minifySQL()}),t(37,"mat-icon"),i(38,"compress"),e(),i(39," Minify "),e(),t(40,"button",14),u("click",function(){return n.swapInputOutput()}),t(41,"mat-icon"),i(42,"swap_vert"),e(),i(43," Swap "),e()(),t(44,"mat-card")(45,"mat-card-header")(46,"mat-card-title"),i(47,"Output"),e()(),t(48,"mat-card-content")(49,"mat-form-field",9)(50,"mat-label"),i(51,"Formatted Result"),e(),t(52,"textarea",15),f("ngModelChange",function(a){return s(n.outputSQL,a)||(n.outputSQL=a),a}),e()()(),t(53,"mat-card-actions")(54,"button",16),u("click",function(){return n.copyToClipboard()}),t(55,"mat-icon"),i(56,"content_copy"),e(),i(57," Copy "),e()()(),t(58,"button",14),u("click",function(){return n.reset()}),t(59,"mat-icon"),i(60,"clear"),e(),i(61," Clear "),e()()()),m&2&&(p(13),c("ngModel",n.indentSize),M("min",1)("max",8),p(4),c("ngModel",n.indentType),p(13),c("ngModel",n.inputSQL),p(22),c("ngModel",n.outputSQL))},dependencies:[y,v,P,W,k,R,F,B,q,A,V,z,D,H,J,E,b,L,w,I,x,O,T,N,Q,G,U,C,Y],styles:[".tool-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;background-color:#f5f5f5}.gradient-toolbar[_ngcontent-%COMP%]{background:linear-gradient(to right,#ff7a18,#ffd166);color:#fff}.content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:20px;display:flex;flex-direction:column;gap:20px}mat-card[_ngcontent-%COMP%]{background-color:#fff}.full-width[_ngcontent-%COMP%]{width:100%}.settings-group[_ngcontent-%COMP%]{display:flex;gap:15px;flex-wrap:wrap}.half-width[_ngcontent-%COMP%]{flex:1;min-width:150px}.button-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.full-width-button[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-size:13px;line-height:1.5}mat-card-actions[_ngcontent-%COMP%]{padding:16px;display:flex;justify-content:flex-end;gap:10px}button[mat-raised-button][_ngcontent-%COMP%]{min-width:120px}@media (max-width: 600px){.content[_ngcontent-%COMP%]{padding:10px;gap:10px}.settings-group[_ngcontent-%COMP%]{flex-direction:column}.half-width[_ngcontent-%COMP%]{width:100%}}"]});let S=d;return S})();export{_t as SqlBeautifierComponent};
